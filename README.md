# CraterClusterTools

## Introduction
This program is a set of tools to be used for calculating important characteristics of Crater Clusters on Mars. It was developed in a UROP research internship at Imperial College London in the Summer of 2020.

As some data is still unpublished, parts of the code is commented out where that data is needed and graphs only show data published in Recently Formed Crater Clusters on Mars by Ingrid Daubar et al. 2019.

## Technologies
Python 3

## Requirements
### Modules:
Pandas 1.0.4 or better

Numpy 1.18.5 or better 

Matplotlib 3.2.2 or better

Jupyter

## Setup:
To install:
```
python setup.py install --user
```
Then change the file destinations 'main_list' and 'parameters_list' in tools/parameters.py to the desired output locations.
You can test the script on the two example sheets in the repository, they are in the format that the script expects.

## Usage:
All functions to calculate a parameter (i.e. Dispersion) can be found in the tools/functions.py script, to call a single function import tools as a module and use the functions in your script.

To calculate all parameters for a new cluster one can run the tools/parameters.py script. It can be run directly from the command line 'python tools/parameters.py [-options] [Path] [lat] [lon]', there are options to show or save plots of the best fit ellipse and crater locations. The program expects a csv or excel spreadsheet named after the HiRise Observation ID of the cluster image. This sheet can be created by using the 'To Excel' or 'To CSV' tool in ArcGIS or manually by exporting the .dbase file generated by CraterTools into the desired file type. 

To plot the results, use the ClusterPlotting jupyter notebook. It is currently set to save all plots as .png files.

The Density_Based_Clustering jupyter notebook demonstrates how spatial clustering algorithms can be used to find subclustering in crater clusters and several possible statistics used to judge clustering.

## Inspiration
The program is based on previous work by Ingrid Daubar and Eric Newland.
Some of the code is adapted from Michael Imelfort and the original can be found at https://github.com/minillinim/ellipsoid/blob/master/
